/*
 * This following is because you can't change the opacity of a background
 * that's already set.  So now you loop through all the colors, and set them
 * manually
 */
@import "colors";

@normalFade: 10%;
@hoverFade: 10%;
@focusFade: 30%;

.make-color-classes(@colors) {
   .iter(length(@colors));
   .iter(@i) when (@i > 0) {
      .iter(@i - 1);
      @pair: extract(@colors, @i);
      @key: extract(@pair, 1);
      @value: extract(@pair, 2);
      .@{key} {
         &:hover {
            background-color: fade(@value, @hoverFade);
         }
         &.selection {
            background-color: fade(@value, 40%);         }

         &:focus {
            background-color: fade(@value, @focusFade);
         }
      }
   }
}

.make-color-classes(@colors);
/******************************************************************************/

.super-select {
   border: 1px solid #ccc; // same colour as parent, in order not to mess with spacing when focused
   background: #fff;
   display: flex;
   min-width: 200px;
   overflow: hidden;
   flex-grow: 1;
   &:hover {
      border: 1px solid #bbb;
   }
   &.focused {
      border: 1px solid #99b;
   }
}
.super-select--search {
   padding: 5px;
   outline: none;
   border: none;
   font-size: inherit;
   flex: 1;
   min-width: 140px;
}
.super-select--matches {
   display: inline-flex;
   align-items: center;
   transition: width 1s;
   margin-right: 5px;
   .match {
      padding: 5px;
      margin: 0 5px;
      color: #555;
      cursor: pointer;
      animation-name: fadeInDown;
      animation-duration: 0.5s;
      animation-fill-mode: both;
      outline: none;
   }
}
.selections {
   display: inline-flex;
   flex-direction: column;
   position: fixed;
   width: 100px;
   height: 100%;
   background: #fff;
   box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12);
   z-index: 1;

   cursor: pointer;
   .selection {

      display: flex;
      align-items: center;
      padding-left: 17px;

      &:hover {
         padding-left: 0px;
         background: #eee;
         .material-icons {
            display: inline-block;
         }
         .name {
            overflow-x: visible;
            background: #eee;
         }
      }
      .material-icons {
         font-size: 14px;
         display: none;
         margin-left: 3px;
      }
      .name {
         margin-left: 2px;
         padding: 8px 0;
         background: #fff;
         text-overflow: ellipsis;
         overflow-x: hidden;
      }
   }
}

@keyframes fadeInDown {
   0% {
      opacity: 0;
      transform: translateY(-20px);
   }
   100% {
      opacity: 1;
      transform: translateY(0);
   }
}
